<?xml version="1.0"?>

<!DOCTYPE changes SYSTEM "./dtd/changes-v10.dtd">

<changes title="JAMES History of Changes">
  <devs>
    <person name="Federico Barbieri" email="scoobie@systemy.it" id="FB"/>
    <person name="Serge Knystautas" email="sergek@lokitech.com" id="SK"/>
    <person name="Charles Benett" email="charles@benett1.demon.co.uk" id="CB"/>
    <person name="Stuart Roebuck" email="stuart.roebuck@adolos.co.uk" id="SR"/>
    <person name="Ivan Seskar" email="iseskar@upsideweb.com" id="IS"/>
    <person name="Prasanna Uppaladadium" email="prasanna@vayusphere.com" id="PU"/>
  </devs>

<release version="1.2.1" date="13-Dec-2000">
  <action dev="SK,SR,CB" type="update">
    Fix for "stuck file" problem in Avalon mail repository.
  </action>
  <action dev="SK" type="design">
    Made usernames case insensitive on MailAddress
  </action>
  <action dev="SK" type="code">
    Complete rewrite of processor code to send through Mail object through matchers and mailets.  Design might be less efficient but easier to understand and more flexible for later improvements to API.  Also no longer "loses" IP address and error message information when Mail object go from one processor/state to the next (ToProcessor changed as well now that processor works).
  </action>
  <action dev="SK" type="update">
    Updated to JavaMail 1.2.
  </action>
  <action dev="SK" type="update">
    Changed instantiation of recipients on a Mail object to a Set (HashSet) whenever possible in preparation for the API having this change.
  </action>
  <action dev="IS" type="code">
    Added UsersTownRepository to let you maintain user lists in a database
  </action>
  <action dev="SR" type="update">
    In POP3 handler, properly includes headers in calculating size of messages.
  </action>
  <action dev="SK" type="update">
    Removed "synchronized" attribute on many methods in town and file spool repositories.  Should significantly boost performance and multithreaded capabilities.
  </action>
  <action dev="SK" type="code">
    Optimization of town mail repository, introduction of JamesMimeMessageInputStream and the James MimeMessage.  Should significantly reduce the number of unnecessary parses or saves on MimeMessages in server.
  </action>
  <action dev="SR" type="update">
    Properly calculates hashCode for MailAddress so duplicates do not exist in Hashmaps
  </action>
  <action dev="SR" type="update">
    Hardcoded serialVerUID on MailAddress and MailImpl to that of James 1.2 release so future releases can continue to use mail stored in earlier releases.
  </action>
  <action dev="IS" type="update">
    Added ability on NotifySender and NotifyPostmaster to attach informative notice.
  </action>
  <action dev="SK" type="update">
    GenericListservManager now requires existsAddress() which it uses to prevent someone already on the list from subscribing or someone not on the list from removing themselves.
  </action>
  <action dev="SK" type="update">
    Changed User repository for file to *always* end the destination with a File.separator.  Otherwise if people mixed usage of this, it would crash the repositories with confusing error messages.  Child repositories were already properly created with a terminating File.separator.
  </action>
  <action dev="SK" type="code">
    New matcher: IsSingleRecipient
  </action>
  <action dev="SK" type="code">
    Added spam blacklist checking for 3 spam blacklists that make this available in a simple DNS lookup check.  All free services through mail-abuse.org.  Added to default configuration in JAMES.conf.xml
  </action>
  <action dev="PU" type="code">
    Added first testing program.  This would recreate file stuck problem.  Would be good to build collection of testing utilities in this new package.
  </action>
  <action dev="SK" type="docs">
    Documented what all the jars are in the lib directory (what they're called, where they're from)
  </action>
</release>

<release version="1.2" date="16-Oct-2000">
  <action dev="SK" type="design">
    Abstracted mailet API to be Avalon (implementation) independent
  </action>
  <action dev="CB" type="code">
    Abstracted mail repository in JAMES/Avalon to allow more varied implementations.
  </action>
  <action dev="SK" type="code">
    Database implementations of mail repositories
  </action>
  <action dev="SK" type="code">
    Changed remote delivery to use an outgoing spool with a specified number of delivery threads
  </action>
  <action dev="CB" type="code">
    Experimental implementation of LDAP user manager
  </action>
  <action dev="SK" type="update">
    Reworked mailets and matchers to fit new API and added many more classes
  </action>
  <action dev="CBSK" type="update">
    Fixed some bugs in POP3 server
  </action>
  <action dev="CB" type="update">
    Added full TLS support in POP3 (POP3S)
  </action>
  <action dev="SK" type="update">
    Fixed sorting of MX records so it attempts delivery in correct order
  </action>
  <action dev="SK" type="update">
    Changed remote manager to not allow a login if an admin account's password is empty,
    and sets the root account's password empty by default (so you have to set one... prevents someone
    from knowing the password to your system out of the box)
  </action>
</release>

<release version="1.1" date="27-Jul-2000">
  <action dev="??" type="code">
    Unknown changes
  </action>
  <action dev="SK" type="code">
    Made DNS functionality a separate block
  </action>
</release>

<release version="1.0" date="26-Feb-2000">
  <action dev="SKFB" type="code">
    Added DNS stuff to remote delivery.
  </action>
  <action dev="FB" type="code">
    Add some autodetect support for easier configuration.
  </action>
  <action dev="FB" type="code">
    Add support for Mailet.
  </action>
  <action dev="FB" type="update">
    Add Mailet interface draft.
  </action>
</release>

<release version="0.9.5" date="2000">
  <action dev="FB" type="update">
    Split the SMTP Server in a protocol handler and a MailServer available to
    all Avalon blocks.
  </action>
  <action dev="FB" type="update">
    Tune MessageContainer class.
  </action>
</release>

 <release version="0.9-dev" date="Can't remember">
  <action dev="FB" type="update">
  	Based on much code from Serge Knystautas first implementation of JAMES on
  	top of the Avalon framework.
  </action>
</release>

</changes>