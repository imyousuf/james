<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Tue Nov 27 23:58:24 PST 2001 -->
<TITLE>
James API: Class  AbstractJdbcUsersRepository
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractJdbcUsersRepository.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractJdbcUsersRepository.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.james.userrepository</FONT>
<BR>
Class  AbstractJdbcUsersRepository</H2>
<PRE>
java.lang.Object
  |
  +--org.apache.avalon.framework.logger.AbstractLoggable
        |
        +--<A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">org.apache.james.userrepository.AbstractUsersRepository</A>
              |
              +--<B>org.apache.james.userrepository.AbstractJdbcUsersRepository</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.avalon.framework.component.Component, org.apache.avalon.framework.component.Composable, org.apache.avalon.framework.configuration.Configurable, org.apache.avalon.framework.context.Contextualizable, org.apache.avalon.framework.activity.Initializable, org.apache.avalon.framework.logger.Loggable, <A HREF="../../../../org/apache/james/services/UsersRepository.html">UsersRepository</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../org/apache/james/userrepository/DefaultUsersJdbcRepository.html">DefaultUsersJdbcRepository</A>, <A HREF="../../../../org/apache/james/userrepository/JamesUsersJdbcRepository.html">JamesUsersJdbcRepository</A>, <A HREF="../../../../org/apache/james/userrepository/ListUsersJdbcRepository.html">ListUsersJdbcRepository</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>AbstractJdbcUsersRepository</B><DT>extends <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A><DT>implements <A HREF="../../../../org/apache/james/services/UsersRepository.html">UsersRepository</A>, org.apache.avalon.framework.logger.Loggable, org.apache.avalon.framework.component.Component, org.apache.avalon.framework.context.Contextualizable, org.apache.avalon.framework.component.Composable, org.apache.avalon.framework.configuration.Configurable, org.apache.avalon.framework.activity.Initializable</DL>

<P>
An abstract base class for creating UserRepository implementation
 which use a database for persistence.
 
 To implement a new UserRepository using by extending this class,
 you need to implement the 3 abstract methods defined below,
 and define the required SQL statements in an SQLResources
 file.
 
 The SQL statements used by this implementation are:
 <TABLE>
 <TH><TD><B>Required</B></TD></TH>
 <TR><TD>select</TD><TD>Select all users.</TD></TR>
 <TR><TD>insert</TD><TD>Insert a user.</TD></TR>
 <TR><TD>update</TD><TD>Update a user.</TD></TR>
 <TR><TD>delete</TD><TD>Delete a user by name.</TD></TR>
 <TR><TD>createTable</TD><TD>Create the users table.</TD></TR>
 <TH><TD><B>Optional</B></TD></TH>
 <TR><TD>selectByLowercaseName</TD><TD>Select a user by name (case-insensitive lowercase).</TD></TR>
 </TABLE>
<P>
<DL>
<DT><B>Author: </B><DD>Darrell DeBoer <dd@bigdaz.com></DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.avalon.framework.context.Context</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#context">context</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#m_sqlParameters">m_sqlParameters</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.james.services.UsersRepository"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface org.apache.james.services.<A HREF="../../../../org/apache/james/services/UsersRepository.html">UsersRepository</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/services/UsersRepository.html#ROLE">ROLE</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#USER">USER</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#AbstractJdbcUsersRepository()">AbstractJdbcUsersRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#compose(org.apache.avalon.framework.component.ComponentManager)">compose</A></B>(org.apache.avalon.framework.component.ComponentManager&nbsp;componentManager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compose the repository with the DataSourceSelector component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#configure(org.apache.avalon.framework.configuration.Configuration)">configure</A></B>(org.apache.avalon.framework.configuration.Configuration&nbsp;configuration)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configures the UserRepository for JDBC access.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#contextualize(org.apache.avalon.framework.context.Context)">contextualize</A></B>(org.apache.avalon.framework.context.Context&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#doAddUser(org.apache.james.services.User)">doAddUser</A></B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a user to the underlying Repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#doRemoveUser(org.apache.james.services.User)">doRemoveUser</A></B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a user from the underlying repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#doUpdateUser(org.apache.james.services.User)">doUpdateUser</A></B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates a user record to match the supplied User.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/apache/james/services/User.html">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#getUserByName(java.lang.String, boolean)">getUserByName</A></B>(java.lang.String&nbsp;name,
              boolean&nbsp;ignoreCase)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a user by name, ignoring case if specified.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#initialize()">initialize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises the JDBC repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#listAllUsers()">listAllUsers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list populated with all of the Users in the repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../org/apache/james/services/User.html">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#readUserFromResultSet(java.sql.ResultSet)">readUserFromResultSet</A></B>(java.sql.ResultSet&nbsp;rsUsers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads properties for a User from an open ResultSet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#setUserForInsertStatement(org.apache.james.services.User, java.sql.PreparedStatement)">setUserForInsertStatement</A></B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user,
                          java.sql.PreparedStatement&nbsp;userInsert)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set parameters of a PreparedStatement object with 
 property values from a User instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/userrepository/AbstractJdbcUsersRepository.html#setUserForUpdateStatement(org.apache.james.services.User, java.sql.PreparedStatement)">setUserForUpdateStatement</A></B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user,
                          java.sql.PreparedStatement&nbsp;userUpdate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set parameters of a PreparedStatement object with
 property values from a User instance.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.james.userrepository.AbstractUsersRepository"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.james.userrepository.<A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#addUser(java.lang.String, java.lang.Object)">addUser</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#addUser(org.apache.james.services.User)">addUser</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#contains(java.lang.String)">contains</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#containsCaseInsensitive(java.lang.String)">containsCaseInsensitive</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#countUsers()">countUsers</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#getAttributes(java.lang.String)">getAttributes</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#getRealName(java.lang.String)">getRealName</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#getUserByName(java.lang.String)">getUserByName</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#getUserByNameCaseInsensitive(java.lang.String)">getUserByNameCaseInsensitive</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#list()">list</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#listUserNames()">listUserNames</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#removeUser(java.lang.String)">removeUser</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#test(java.lang.String, java.lang.Object)">test</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#test(java.lang.String, java.lang.String)">test</A>, <A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#updateUser(org.apache.james.services.User)">updateUser</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.avalon.framework.logger.AbstractLoggable"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.avalon.framework.logger.AbstractLoggable</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>getLogger, setLogger, setupLogger, setupLogger, setupLogger</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.james.services.UsersRepository"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface org.apache.james.services.<A HREF="../../../../org/apache/james/services/UsersRepository.html">UsersRepository</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/services/UsersRepository.html#addUser(java.lang.String, java.lang.Object)">addUser</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#addUser(org.apache.james.services.User)">addUser</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#contains(java.lang.String)">contains</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#containsCaseInsensitive(java.lang.String)">containsCaseInsensitive</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#countUsers()">countUsers</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#getAttributes(java.lang.String)">getAttributes</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#getRealName(java.lang.String)">getRealName</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#getUserByName(java.lang.String)">getUserByName</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#getUserByNameCaseInsensitive(java.lang.String)">getUserByNameCaseInsensitive</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#list()">list</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#removeUser(java.lang.String)">removeUser</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#test(java.lang.String, java.lang.Object)">test</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#test(java.lang.String, java.lang.String)">test</A>, <A HREF="../../../../org/apache/james/services/UsersRepository.html#updateUser(org.apache.james.services.User)">updateUser</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.avalon.framework.logger.Loggable"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface org.apache.avalon.framework.logger.Loggable</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>setLogger</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="context"><!-- --></A><H3>
context</H3>
<PRE>
protected org.apache.avalon.framework.context.Context <B>context</B></PRE>
<DL>
</DL>
<HR>

<A NAME="m_sqlParameters"><!-- --></A><H3>
m_sqlParameters</H3>
<PRE>
protected java.util.Map <B>m_sqlParameters</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AbstractJdbcUsersRepository()"><!-- --></A><H3>
AbstractJdbcUsersRepository</H3>
<PRE>
public <B>AbstractJdbcUsersRepository</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="contextualize(org.apache.avalon.framework.context.Context)"><!-- --></A><H3>
contextualize</H3>
<PRE>
public void <B>contextualize</B>(org.apache.avalon.framework.context.Context&nbsp;context)
                   throws org.apache.avalon.framework.context.ContextException</PRE>
<DL>
<DD><DL>
<DT><B>Specified by: </B><DD><CODE>contextualize</CODE> in interface <CODE>org.apache.avalon.framework.context.Contextualizable</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="compose(org.apache.avalon.framework.component.ComponentManager)"><!-- --></A><H3>
compose</H3>
<PRE>
public void <B>compose</B>(org.apache.avalon.framework.component.ComponentManager&nbsp;componentManager)
             throws org.apache.avalon.framework.component.ComponentException</PRE>
<DL>
<DD>Compose the repository with the DataSourceSelector component.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>compose</CODE> in interface <CODE>org.apache.avalon.framework.component.Composable</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="configure(org.apache.avalon.framework.configuration.Configuration)"><!-- --></A><H3>
configure</H3>
<PRE>
public void <B>configure</B>(org.apache.avalon.framework.configuration.Configuration&nbsp;configuration)
               throws org.apache.avalon.framework.configuration.ConfigurationException</PRE>
<DL>
<DD>Configures the UserRepository for JDBC access.
 
 Requires a configuration element in the .conf.xml file of the form:
 
  <repository name="LocalUsers"
              class="org.apache.james.userrepository.JamesUsersJdbcRepository">
      <!-- Name of the datasource to use -->
      <data-source>MailDb</data-source>
      <!-- File to load the SQL definitions from -->
      <sqlFile>dist/conf/sqlResources.xml</sqlFile>
      <!-- replacement parameters for the sql file -->
      <sqlParameters table="JamesUsers"/>
  </repository><DD><DL>
<DT><B>Specified by: </B><DD><CODE>configure</CODE> in interface <CODE>org.apache.avalon.framework.configuration.Configurable</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initialize()"><!-- --></A><H3>
initialize</H3>
<PRE>
public void <B>initialize</B>()
                throws java.lang.Exception</PRE>
<DL>
<DD>Initialises the JDBC repository.
 1) Tests the connection to the database.
 2) Loads SQL strings from the SQL definition file,
     choosing the appropriate SQL for this connection, 
     and performing paramter substitution,
 3) Initialises the database with the required tables, if necessary.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>initialize</CODE> in interface <CODE>org.apache.avalon.framework.activity.Initializable</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="listAllUsers()"><!-- --></A><H3>
listAllUsers</H3>
<PRE>
protected java.util.Iterator <B>listAllUsers</B>()</PRE>
<DL>
<DD>Returns a list populated with all of the Users in the repository.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#listAllUsers()">listAllUsers</A></CODE> in class <CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD>an <code>Iterator</code> of <code>JamesUser</code>s.</DL>
</DD>
</DL>
<HR>

<A NAME="doAddUser(org.apache.james.services.User)"><!-- --></A><H3>
doAddUser</H3>
<PRE>
protected void <B>doAddUser</B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user)</PRE>
<DL>
<DD>Adds a user to the underlying Repository.
 The user name must not clash with an existing user.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#doAddUser(org.apache.james.services.User)">doAddUser</A></CODE> in class <CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="doRemoveUser(org.apache.james.services.User)"><!-- --></A><H3>
doRemoveUser</H3>
<PRE>
protected void <B>doRemoveUser</B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user)</PRE>
<DL>
<DD>Removes a user from the underlying repository.
 If the user doesn't exist, returns ok.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#doRemoveUser(org.apache.james.services.User)">doRemoveUser</A></CODE> in class <CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="doUpdateUser(org.apache.james.services.User)"><!-- --></A><H3>
doUpdateUser</H3>
<PRE>
protected void <B>doUpdateUser</B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user)</PRE>
<DL>
<DD>Updates a user record to match the supplied User.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#doUpdateUser(org.apache.james.services.User)">doUpdateUser</A></CODE> in class <CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getUserByName(java.lang.String, boolean)"><!-- --></A><H3>
getUserByName</H3>
<PRE>
protected <A HREF="../../../../org/apache/james/services/User.html">User</A> <B>getUserByName</B>(java.lang.String&nbsp;name,
                             boolean&nbsp;ignoreCase)</PRE>
<DL>
<DD>Gets a user by name, ignoring case if specified.
 If the specified SQL statement has been defined, this method
 overrides the basic implementation in AbstractUsersRepository
 to increase performance.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html#getUserByName(java.lang.String, boolean)">getUserByName</A></CODE> in class <CODE><A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html">AbstractUsersRepository</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="readUserFromResultSet(java.sql.ResultSet)"><!-- --></A><H3>
readUserFromResultSet</H3>
<PRE>
protected abstract <A HREF="../../../../org/apache/james/services/User.html">User</A> <B>readUserFromResultSet</B>(java.sql.ResultSet&nbsp;rsUsers)
                                       throws java.sql.SQLException</PRE>
<DL>
<DD>Reads properties for a User from an open ResultSet.
 Subclass implementations of this method must have knowledge of the fields
 presented by the "select" and "selectByLowercaseName" SQL statements.
 These implemenations may generate a subclass-specific User instance.<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rsUsers</CODE> - A ResultSet with a User record in the current row.<DT><B>Returns:</B><DD>A User instance<DT><B>Throws:</B><DD><CODE>java.sql.SQLException</CODE> - if an exception occurs reading from the ResultSet</DL>
</DD>
</DL>
<HR>

<A NAME="setUserForInsertStatement(org.apache.james.services.User, java.sql.PreparedStatement)"><!-- --></A><H3>
setUserForInsertStatement</H3>
<PRE>
protected abstract void <B>setUserForInsertStatement</B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user,
                                                  java.sql.PreparedStatement&nbsp;userInsert)
                                           throws java.sql.SQLException</PRE>
<DL>
<DD>Set parameters of a PreparedStatement object with 
 property values from a User instance.
 Implementations of this method have knowledge of the parameter
 ordering of the "insert" SQL statement definition.<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - a User instance, which should be an implementation class which
                   is handled by this Repostory implementation.<DD><CODE>userInsert</CODE> - a PreparedStatement initialised with SQL taken from the "insert" SQL definition.<DT><B>Throws:</B><DD><CODE>java.sql.SQLException</CODE> - if an exception occurs while setting parameter values.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserForUpdateStatement(org.apache.james.services.User, java.sql.PreparedStatement)"><!-- --></A><H3>
setUserForUpdateStatement</H3>
<PRE>
protected abstract void <B>setUserForUpdateStatement</B>(<A HREF="../../../../org/apache/james/services/User.html">User</A>&nbsp;user,
                                                  java.sql.PreparedStatement&nbsp;userUpdate)
                                           throws java.sql.SQLException</PRE>
<DL>
<DD>Set parameters of a PreparedStatement object with
 property values from a User instance.
 Implementations of this method have knowledge of the parameter
 ordering of the "update" SQL statement definition.<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - a User instance, which should be an implementation class which
                   is handled by this Repostory implementation.<DD><CODE>userUpdate</CODE> - a PreparedStatement initialised with SQL taken from the "update" SQL definition.<DT><B>Throws:</B><DD><CODE>java.sql.SQLException</CODE> - if an exception occurs while setting parameter values.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractJdbcUsersRepository.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../org/apache/james/userrepository/AbstractUsersRepository.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractJdbcUsersRepository.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright © 2001 Apache Jakarta Project. All Rights Reserved.
</BODY>
</HTML>
